#  Ø§Ù„ØªØµÙˆØ± Ø§Ù„ÙƒØ§Ù…Ù„ ÙˆØ§Ù„Ù†Ù‡Ø§Ø¦ÙŠ: Ù…Ù†ØµØ© Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø±ÙƒØ²ÙŠØ© Ù„Ù„ÙˆÙƒÙ„Ø§Ø¡

##  1. Ø§Ù„Ø±Ø¤ÙŠØ© - (ÙˆØ§ÙŠØ´ Ø¨Ù†Ø³ÙˆÙŠØŸ)

Ù†Ø­Ù† Ø¨Ù†Ø¨Ù†ÙŠ Ù…Ù†ØµØ© Ù…Ø±ÙƒØ²ÙŠØ© ØªÙƒÙˆÙ† Ø²ÙŠ **Ø¨Ø±Ø¬ Ø§Ù„Ù…Ø±Ø§Ù‚Ø¨Ø©** Ù„Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ø¬Ù‡Ø²Ø© ÙˆØ§Ù„Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ù„ÙŠ Ù…ÙˆØ²Ø¹Ø© ÙÙŠ Ø§Ù„Ø´Ø±ÙƒØ©ØŒ Ø³ÙˆØ§Ø¡ ÙƒØ§Ù†Øª Ø®Ù„Ù Ø¬Ø¯Ø±Ø§Ù† Ù†Ø§Ø±ÙŠØ© Ø£Ùˆ ÙÙŠ Ø´Ø¨ÙƒØ§Øª Ø®Ø§ØµØ©.  
Ø§Ù„Ù‡Ø¯Ù Ù‡Ùˆ: **Ø¥Ø¯Ø§Ø±Ø© ÙˆØªØ­ÙƒÙ… Ù„Ø­Ø¸ÙŠ ÙˆØ¢Ù…Ù†** Ù…Ù† Ø£ÙŠ Ù…ÙƒØ§Ù†.

---

##  2. Ø§Ù„Ù…Ø´ÙƒÙ„Ø© Ø§Ù„Ù„ÙŠ Ø¨Ù†Ø­Ù„Ù‡Ø§

Ø§Ù„Ø£ØµÙˆÙ„ Ø§Ù„ØªÙ‚Ù†ÙŠØ© ÙÙŠ Ø§Ù„Ø´Ø±ÙƒØ© (Ø£Ø¬Ù‡Ø²Ø©ØŒ Ø³ÙŠØ±ÙØ±Ø§ØªØŒ Ø¨Ø±Ø§Ù…Ø¬ØŒ Ø´Ø¨ÙƒØ§Øª) Ù…ØªÙØ±Ù‚Ø© ÙˆØµØ¹Ø¨ Ø§Ù„ÙˆØµÙˆÙ„ Ù„Ù‡Ø§.  
Ø§Ù„ØªØ­Ø¯ÙŠØ«Ø§Øª Ø¨Ø·ÙŠØ¦Ø©ØŒ Ø§Ù„ØªØ´Ø®ÙŠØµ Ù…ÙƒÙ„ÙØŒ ÙˆØ§Ù„Ø£Ù…Ø§Ù† Ù…Ø¹Ø±Ø¶ Ù„Ù„Ø®Ø·Ø±.  
Ø§Ù„Ù…Ù†ØµØ© Ù‡Ø°Ù‡ Ø¨ØªÙƒÙˆÙ† **Ø­Ù„ Ø¬Ø°Ø±ÙŠ** Ù„Ù‡Ø°ÙŠ Ø§Ù„Ù…Ø´Ø§ÙƒÙ„ Ù…Ù† Ø§Ù„Ø£Ø³Ø§Ø³.

---

##  3. Ù…ÙƒÙˆÙ†Ø§Øª Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©

Ø§Ù„Ù†Ø¸Ø§Ù… Ø¨ÙŠÙƒÙˆÙ† Ù…ÙƒÙˆÙ‘Ù† Ù…Ù† 3 Ø®Ø¯Ù…Ø§Øª Ø±Ø¦ÙŠØ³ÙŠØ©ØŒ ÙˆÙƒÙ„ ÙˆØ­Ø¯Ø© Ù„Ù‡Ø§ Ø¯ÙˆØ±Ù‡Ø§:

### 1ï¸ Ø§Ù„ÙˆÙƒÙŠÙ„ (Agent) â€“ Ù†Ù‚Ø·Ø© Ø§Ù„Ø¨Ø¯Ø§ÙŠØ©
- **ÙˆØ´ Ù‡ÙˆØŸ** Ø¨Ø±Ù†Ø§Ù…Ø¬ Ø´ØºØ§Ù„ ÙÙŠ Ø§Ù„Ø£Ø¬Ù‡Ø²Ø© Ø§Ù„Ø·Ø±ÙÙŠØ©.
- **ÙˆØ¸ÙŠÙØªÙ‡:** ÙŠØªÙˆØ§ØµÙ„ Ù…Ø¹ Ø§Ù„Ù…Ø±ÙƒØ² ÙˆÙŠØ¨Ù„Øº Ø¥Ù†Ù‡ Ù…ØªØµÙ„.
- **Ù…Ù‡Ù…ØªÙ†Ø§:** Ù†ÙÙ‡Ù… ÙƒÙŠÙ ÙŠØªÙƒÙ„Ù… Ù‡Ø°Ø§ Ø§Ù„ÙˆÙƒÙŠÙ„ (Ù„ØºØ© Ø§Ù„Ø§ØªØµØ§Ù„ â€“ Ø§Ù„Ø¨Ø±ÙˆØªÙˆÙƒÙˆÙ„).

---

### 2ï¸ Ø§Ù„Ù…Ø±ÙƒØ² (Central Hub) â€“ Ø¹Ù‚Ù„ Ø§Ù„Ù†Ø¸Ø§Ù…
- **ÙˆØ´ Ù‡ÙˆØŸ** Ø®Ø§Ø¯Ù… Ø±Ø¦ÙŠØ³ÙŠ Ù†Ø·ÙˆØ±Ù‡ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… gRPC.
- **ÙˆØ¸ÙŠÙØªÙ‡:**
  - **ØªØ³Ø¬ÙŠÙ„:** ÙŠØªØ­Ù‚Ù‚ Ù…Ù† Ù‡ÙˆÙŠØ© ÙƒÙ„ ÙˆÙƒÙŠÙ„ØŒ ÙˆÙŠØ³Ø¬Ù„Ù‡ ÙÙŠ "Ø¯Ù„ÙŠÙ„ Ø§Ù„Ø£Ø­ÙŠØ§Ø¡".
  - **ÙˆØ³ÙŠØ· (Proxy):** ÙŠØ³ØªÙ‚Ø¨Ù„ Ø§Ù„Ø£ÙˆØ§Ù…Ø± Ù…Ù† Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ ÙˆÙŠÙ…Ø±Ø±Ù‡Ø§ Ù„Ù„ÙˆÙƒÙ„Ø§Ø¡ Ø§Ù„Ù…Ù†Ø§Ø³Ø¨ÙŠÙ†.

---

### 3ï¸ ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„ØªØ­ÙƒÙ… (Control API) Ø§Ù„ÙŠ Ù‡ÙŠÙ‡ api gatway Ø§Ù„ÙŠ Ù‡ÙŠÙ‡ firewal 

- **ÙˆØ´ Ù‡ÙŠØŸ** Ø¨ÙˆØ§Ø¨Ø© Ø®Ø§Ø±Ø¬ÙŠØ© Ù„Ù„Ù†Ø¸Ø§Ù… Ù…Ø¨Ù†ÙŠØ© Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… gRPC.
- **ÙˆØ¸ÙŠÙØªÙ‡Ø§:** ØªØ³Ù…Ø­ Ù„Ø£ÙŠ Ù†Ø¸Ø§Ù… Ø®Ø§Ø±Ø¬ÙŠ (Dashboard Ø£Ùˆ Ø¨Ø±Ù†Ø§Ù…Ø¬ Ø¢Ù„ÙŠ) ÙŠØ±Ø³Ù„ Ø£ÙˆØ§Ù…Ø± Ø£Ùˆ ÙŠØ·Ù„Ø¨ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¹Ù† Ø§Ù„ÙˆÙƒÙ„Ø§Ø¡.

---

## 4. Ø¢Ù„ÙŠØ© Ø§Ù„Ø¹Ù…Ù„ â€“ ÙƒÙŠÙ ÙŠØ´ØªØºÙ„ Ø§Ù„Ù†Ø¸Ø§Ù…ØŸ

### ğŸ“Œ Ø§Ù„ØªØ³Ø¬ÙŠÙ„ (Registration)
- Ø§Ù„ÙˆÙƒÙŠÙ„ ÙŠØ¨Ø¯Ø£ Ø§Ù„Ø§ØªØµØ§Ù„.
- Ø§Ù„Ù…Ø±ÙƒØ² ÙŠØªØ­Ù‚Ù‚ Ù…Ù†Ù‡ ÙˆÙŠØ³Ø¬Ù„Ù‡.
- Ø§Ù„ÙˆÙƒÙŠÙ„ ÙŠØ¸Ù„ "Ù…ØªØµÙ„ Ø¨Ø§Ù„Ø´Ø¨ÙƒØ©" ÙˆØ¬Ø§Ù‡Ø² ÙŠØ³ØªÙ‚Ø¨Ù„ Ø£ÙˆØ§Ù…Ø±.

---

###  Ø§Ù„Ø§ÙƒØªØ´Ø§Ù ÙˆØ§Ù„Ù…Ø³Ø­ (Scan / FindMe)
- Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ø®Ø§Ø±Ø¬ÙŠ ÙŠØ·Ù„Ø¨ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„ÙˆÙƒÙ„Ø§Ø¡ Ø§Ù„Ù†Ø´Ø·ÙŠÙ† (Ø­Ø³Ø¨ Ø§Ù„Ù†ÙˆØ¹ Ø£Ùˆ Ø§Ù„Ù…Ù†Ø·Ù‚Ø©).
- Ø§Ù„Ù…Ø±ÙƒØ² ÙŠØ±Ø¯ Ø¨Ù‚Ø§Ø¦Ù…Ø© Ù…Ø¨Ø§Ø´Ø±Ø© Ù…Ù† "Ø§Ù„Ø¯Ù„ÙŠÙ„".

---

###  ØªÙ†ÙÙŠØ° Ø§Ù„Ø£ÙˆØ§Ù…Ø± (Execution)
- Ø§Ù„Ø¹Ù…ÙŠÙ„ ÙŠØ±Ø³Ù„ Ø£Ù…Ø± Ù…Ø®ØµØµ Ù„ÙˆÙƒÙŠÙ„ Ù…Ø¹ÙŠÙ†.
- Ø§Ù„Ù…Ø±ÙƒØ² ÙŠÙ…Ø±Ø± Ù„Ù‡ Ø§Ù„Ø·Ù„Ø¨.
- Ø§Ù„ÙˆÙƒÙŠÙ„ ÙŠÙ†ÙØ° ÙˆÙŠØ±Ø¬Ø¹ Ø§Ù„Ù†ØªÙŠØ¬Ø©.
- Ø§Ù„Ù…Ø±ÙƒØ² ÙŠØ¹ÙŠØ¯ Ø§Ù„Ù†ØªÙŠØ¬Ø© Ù„Ù„Ø¹Ù…ÙŠÙ„.

---

## 5. Ø®Ø§Ø±Ø·Ø© Ø§Ù„ØªÙ†ÙÙŠØ° (Implementation Roadmap)

| Ø§Ù„Ù…Ø±Ø­Ù„Ø©           | Ø§Ù„Ù…Ù‡Ø§Ù…                                                  |
| ----------------- | ------------------------------------------------------- |
| Ø§Ù„Ø§Ø³ØªÙƒØ´Ø§Ù         | Ù†ÙÙ‡Ù… Ù„ØºØ© Ø§Ù„ÙˆÙƒÙŠÙ„ØŒ ÙˆØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø¨Ø±ÙˆØªÙˆÙƒÙˆÙ„ Ø§Ù„Ù„ÙŠ ÙŠØ³ØªØ®Ø¯Ù…Ù‡.        |
| 2ï¸ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ø£ÙˆÙ„ÙŠ | Ù†Ø¨Ù†ÙŠ Ù†Ø³Ø®Ø© Ø£ÙˆÙ„ÙŠØ© ØªØªØ¹Ø§Ù…Ù„ Ù…Ø¹ ÙˆÙƒÙŠÙ„ ÙˆØ§Ø­Ø¯ ÙÙ‚Ø·.                |
| Ø§Ù„ØªØ·ÙˆÙŠØ± Ø§Ù„ÙƒØ§Ù…Ù„    | ØªØ·ÙˆÙŠØ± Ø§Ù„Ù…Ø±ÙƒØ² Ø§Ù„ÙƒØ§Ù…Ù„ Ù…Ø¹ ÙˆØ§Ø¬Ù‡Ø© gRPC ÙˆØ¯Ù„ÙŠÙ„ Ø­ÙŠ Ù„Ù„ÙˆÙƒÙ„Ø§Ø¡.     |
| 4ï¸ Ø§Ù„ØªØ­ØµÙŠÙ† ÙˆØ§Ù„Ù†Ø´Ø± | Ù†Ø¶ÙŠÙ Ø§Ù„Ø£Ù…Ø§Ù†ØŒ Ù†Ø³ÙˆÙŠ Ù…Ø±Ø§Ù‚Ø¨Ø©ØŒ ÙˆÙ†Ù†Ø´Ø± Ø§Ù„Ù†Ø¸Ø§Ù… ÙÙŠ Ø¨ÙŠØ¦Ø© Ø§Ù„Ø¥Ù†ØªØ§Ø¬. |

---

##  6. Ø§Ù„Ù†ØªÙŠØ¬Ø© Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ©

Ù…Ù†ØµØ© Ù‚ÙˆÙŠØ© ÙˆÙ…Ø±ÙƒØ²ÙŠØ©ØŒ ØªÙ…Ù†Ø­ Ø§Ù„Ø´Ø±ÙƒØ©:
- ØªØ­ÙƒÙ… ÙƒØ§Ù…Ù„ ÙÙŠ Ø§Ù„Ø£ØµÙˆÙ„ Ø§Ù„ØªÙ‚Ù†ÙŠØ©.
- Ù…Ø±Ø§Ù‚Ø¨Ø© Ø­ÙŠØ© ÙˆÙÙˆØ±ÙŠØ©.
- Ø¬Ø§Ù‡Ø²ÙŠØ© Ù„Ø¥Ø¶Ø§ÙØ© Ø®Ø¯Ù…Ø§Øª Ø°ÙƒÙŠØ© Ù…Ø³ØªÙ‚Ø¨Ù„Ù‹Ø§.
- Ø±ÙØ¹ ÙƒÙØ§Ø¡Ø© Ø§Ù„ØªØ´ØºÙŠÙ„ØŒ ÙˆØªÙ‚Ù„ÙŠÙ„ Ø§Ù„ØªÙƒØ§Ù„ÙŠÙØŒ ÙˆØªØ¹Ø²ÙŠØ² Ø§Ù„Ø£Ù…Ø§Ù†.

---


```mermaid
flowchart TD
    subgraph Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡
        Ù„ÙˆØ­Ø©_Ø§Ù„ØªØ­ÙƒÙ…[Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…]
    end

    ÙˆØ§Ø¬Ù‡Ø©_API[ÙˆØ§Ø¬Ù‡Ø© API]

    subgraph  Grpc Ø§Ù„Ù†Ø¸Ø§Ù…_Ø§Ù„Ù…Ø±ÙƒØ²ÙŠ
        Ø§Ù„Ù…Ø±ÙƒØ²[Ø§Ù„Ø®Ø§Ø¯Ù… Ø§Ù„Ù…Ø±ÙƒØ²ÙŠ]
        Ø¯Ù„ÙŠÙ„[Ø¯Ù„ÙŠÙ„ Ø§Ù„ÙˆÙƒÙ„Ø§Ø¡]
    end

    subgraph Ø§Ù„ÙˆÙƒÙ„Ø§Ø¡
        ÙˆÙƒÙŠÙ„1[ÙˆÙƒÙŠÙ„ 1]
        ÙˆÙƒÙŠÙ„2[ÙˆÙƒÙŠÙ„ 2]
        ÙˆÙƒÙŠÙ„3[ÙˆÙƒÙŠÙ„ 3]
    end

    Ù„ÙˆØ­Ø©_Ø§Ù„ØªØ­ÙƒÙ… -->|ÙŠØ±Ø³Ù„ Ø·Ù„Ø¨| ÙˆØ§Ø¬Ù‡Ø©_API
    ÙˆØ§Ø¬Ù‡Ø©_API --> Ø§Ù„Ù…Ø±ÙƒØ²
    Ø§Ù„Ù…Ø±ÙƒØ² --> Ø¯Ù„ÙŠÙ„
    Ø¯Ù„ÙŠÙ„ --> Ø§Ù„Ù…Ø±ÙƒØ²

    Ø§Ù„Ù…Ø±ÙƒØ² -->|ÙŠÙ…Ø±Ø± Ø§Ù„Ø·Ù„Ø¨| ÙˆÙƒÙŠÙ„1
    ÙˆÙƒÙŠÙ„1 -->|ÙŠØ±Ø¬Ø¹ Ø§Ù„Ù†ØªÙŠØ¬Ø©| Ø§Ù„Ù…Ø±ÙƒØ²
    Ø§Ù„Ù…Ø±ÙƒØ² --> ÙˆØ§Ø¬Ù‡Ø©_API
    ÙˆØ§Ø¬Ù‡Ø©_API --> Ù„ÙˆØ­Ø©_Ø§Ù„ØªØ­ÙƒÙ…

    ÙˆÙƒÙŠÙ„1 -->|ØªØ³Ø¬ÙŠÙ„| Ø§Ù„Ù…Ø±ÙƒØ²
    ÙˆÙƒÙŠÙ„2 -->|ØªØ³Ø¬ÙŠÙ„| Ø§Ù„Ù…Ø±ÙƒØ²
    ÙˆÙƒÙŠÙ„3 -->|ØªØ³Ø¬ÙŠÙ„| Ø§Ù„Ù…Ø±ÙƒØ²


```



```mermaid
erDiagram
    CLIENTS {
        INT client_id PK
        VARCHAR name
        TEXT contact_info
    }

    AGENTS {
        VARCHAR agent_id PK
        VARCHAR status
        VARCHAR agent_type
        VARCHAR agent_version
        INET last_ip_address
        VARCHAR hub_instance_id
        TIMESTAMPTZ first_seen_at
        TIMESTAMPTZ last_seen_at
        TIMESTAMPTZ registered_at
        JSONB metadata
    }

    REQUESTS {
        INT request_id PK
        INT client_id FK
        VARCHAR command_type
        JSONB command_payload
        VARCHAR status
        TIMESTAMP created_at
        VARCHAR assigned_agent_id FK
    }

    AGENT_AUTH_TOKENS {
        UUID token_id PK
        VARCHAR agent_id FK
        VARCHAR token_hash
        VARCHAR status
        TIMESTAMPTZ created_at
        TIMESTAMPTZ expires_at
        TIMESTAMPTZ last_used_at
    }

    COMMAND_HISTORY {
        UUID job_id PK
        INT request_id FK
        VARCHAR agent_id FK
        UUID requested_by_user_id
        VARCHAR command_name
        JSONB request_payload
        VARCHAR status
        JSONB response_payload
        TIMESTAMPTZ created_at
        TIMESTAMPTZ completed_at
    }

    VERIFICATION_STEPS {
        INT step_id PK
        INT request_id FK
        TEXT step_description
        VARCHAR step_status
        TIMESTAMP timestamp
    }

    CLIENTS ||--o{ REQUESTS : "ÙŠÙ‚Ø¯Ù…"
    REQUESTS ||--o{ COMMAND_HISTORY : "ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰"
    REQUESTS ||--o{ VERIFICATION_STEPS : "ÙŠØ®Ø¶Ø¹ Ù„Ù€"
    AGENTS ||--o{ COMMAND_HISTORY : "ÙŠÙ†ÙØ°"
    AGENTS ||--o{ REQUESTS : "ÙŠÙØ³Ù†Ø¯ Ø¥Ù„ÙŠÙ‡"
    AGENTS ||--o{ AGENT_AUTH_TOKENS : "ÙŠÙ…ØªÙ„Ùƒ"
```