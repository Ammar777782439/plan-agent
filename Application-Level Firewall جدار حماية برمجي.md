



[[ุฌุฏูู ููุงุนุฏ ุฌุฏุงุฑ ุงูุญูุงูุฉ ุงูุฃุณุงุณูุฉ]]

ุจุญูุซ ุชู ุชุทุจูู ุงูุถู ุงูููุงุฑุณุงุช ูููุฉ ูุฏูุงุน ูู ุงูุนูู" (Defense in Depth) ูุน Firewall ุฌุฏุงุฑ ุงูุญูุงูุฉ ุนูู ูุณุชูู ุงูุดุจูุฉ 

ููู ุงูููููุงุชุ ุงูุจุฑูุชููููุงุชุ ุงูููุงูุฐุ ูููุงุนุฏ ุงูุฏุฎูู ูุงูุฎุฑูุฌ

| ุงููููู         | ุงูุจุฑูุชูููู   | ุงูููุงูุฐ     | ููุงุนุฏ ุงููุงุฑุฏ (Inbound) | ููุงุนุฏ ุงูุตุงุฏุฑ (Outbound)    | ูุณุชูู ุงูุญุณุงุณูุฉ |
| -------------- | ------------ | ----------- | ---------------------- | -------------------------- | -------------- |
| ููุญุฉ ุงูุชุญูู    | HTTPS        | 443         | ูู ุดุจูุงุช ุงูุฅุฏุงุฑุฉ ููุท   | ุฅูู ูุงุฌูุฉ API (443)        | ุชุญุช ุงูุชููู     |
| ูุงุฌูุฉ API      | gRPC / HTTPS | 50051 / 443 | ูู ููุญุฉ ุงูุชุญูู (443)   | ุฅูู ุงูุฎุงุฏู ุงููุฑูุฒู (50051) | ุชุญุช ุงูุชููู     |
| ุงูุฎุงุฏู ุงููุฑูุฒู | gRPC         | 50051       | ูู ูุงุฌูุฉ API ูุงููููุงุก  | ุฅูู ุงููููุงุก ูุฏููู ุงููููุงุก  | ุชุญุช ุงูุชููู     |
| ุงููููุงุก        | gRPC         | 50051       | ูู ุงูุฎุงุฏู ุงููุฑูุฒู ููุท  | ุฅูู ุงูุฎุงุฏู ุงููุฑูุฒู (50051) | ุชุญุช ุงูุชููู     |



## ๐ ุจูุงุจุฉ API (ุงููุณุคูููุฉ ุงูุฑุฆูุณูุฉ)

| ุงููููุฉ                  | ุงูููุงุนุฏ ุงููุงุฑุฏุฉ (Inbound)                                         | ุงูููุงุนุฏ ุงูุตุงุฏุฑุฉ (Outbound)                          | ุงูุฃุฏูุงุช                  | ุงููุณุชูู    |
| ----------------------- | ----------------------------------------------------------------- | --------------------------------------------------- | ------------------------ | ---------- |
| **ูุตุงุฏูุฉ ุงูุทูุจุงุช**      | ูุจูู ููุท ุทูุจุงุช ุชุญูู JWT ุตุงูุญ ูู ุงูููุฏุฑ                            | ุฑูุถ ุงูุทูุจุงุช ุบูุฑ ุงูููุซูุฉ ูุน ุฅุฑุฌุงุน `401 Unauthorized` | `golang-jwt/jwt`         | ุชุญุช ุงูุชููู |
| **ุงูุชุญูู ูู ุงูุตูุงุญูุงุช** | ุชุทุจูู ุณูุงุณุงุช RBAC ูุจู ูุนุงูุฌุฉ ุงูุทูุจ                                | ุฅุฑุฌุงุน `403 Forbidden` ููุทูุจุงุช ุบูุฑ ุงููุตุฑุญ ุจูุง        | `Casbin`                 | ุชุญุช ุงูุชููู |
| **Rate Limiting**       | ูุจูู ุญุฏ ุฃูุตู ูกูู ุทูุจ/ุซุงููุฉ ูู ููุณ IP                              | ุฅุฑุฌุงุน `429 Too Many Requests` ุนูุฏ ุงูุชุฌุงูุฒ           | `golang.org/x/time/rate` | ุชุญุช ุงูุชููู |
| **ุชุตููุฉ ุงููุฏุฎูุงุช**      | ุฑูุถ ุงูุทูุจุงุช ุชุญุชูู ุนูู: `'; DROP TABLE'` ุฃู `'<script>'`           | ุฅุฑุฌุงุน `400 Bad Request` ูุน ุฑุณุงูุฉ ุฎุทุฃ ุนุงูุฉ           | ููุชุจุงุช ุงูุชุทููุฑ           | ุชุญุช ุงูุชููู |
| **ุงูุชุณุฌูู ุงูุฃููู**      | ุชุณุฌูู: IP ุงููุตุฏุฑุ ุงููุณุงุฑุ ุฑูุฒ ุงูุงุณุชุฌุงุจุฉ (ูุน ุญุฌุจ ุงูุจูุงูุงุช ุงูุญุณุงุณุฉ) | ุฅุฑุณุงู ุงูุณุฌูุงุช ุฅูู ูุธุงู ุงููุฑุงูุจุฉ ุนุจุฑ TLS             | `Structured Logging`     | ุชุญุช ุงูุชููู |
| **ุฅุฏุงุฑุฉ ุงูุฃุฎุทุงุก**       | ุนุฏู ุชุณุฑูุจ ุชูุงุตูู ุงููุธุงู ูู ุงูุฃุฎุทุงุก                                | ุฅุฑุฌุงุน `500 Internal Server Error` ูุน ุฑุณุงูุฉ ุนุงูุฉ ููุท | ูุนุงูุฌุงุช ุงูุฃุฎุทุงุก ุงููุฎุตุตุฉ  | ุชุญุช ุงูุชููู |

---

###  ุฌุฏุงุฑ ุงูุญูุงูุฉ ูู ุฎุงุฏู gRPC (Server Firewall Logic)

ุงูุฎุงุฏู ูู ุงูุญุตู ุงูุฑุฆูุณูุ ูุฌุฏุงุฑ ุงูุญูุงูุฉ ุงูุฎุงุต ุจู ูุฑูุฒ ุนูู ุงูุชุญูู ูู ูููุฉ ุงููุชุตู ูุตูุงุญูุงุชู ูุจู ุงูุณูุงุญ ูู ุจุงูุฏุฎูู.
##  ุฌุฏูู ููุงุนุฏ ุฌุฏุงุฑ ุงูุญูุงูุฉ ูู ุฎุงุฏู gRPC

| ุงููุงุนุฏุฉ                               | ุงูููุน            | ุงููุฏู                                    | ๐ง ููุงู ุงูุชูููุฐ                          |
| ------------------------------------- | ---------------- | ---------------------------------------- | ---------------------------------------- |
| ูุจูู ููุท ุนููุงุก ูุน ุดูุงุฏุฉ mTLS ุตุงูุญุฉ    | ูุงุฑุฏุฉ (Inbound)  | ุงูุชุญูู ูู ุงููููุฉ (Identity Verification) | [[tls.Config ูู]] `/cmd/server/main.go   |
| ุฑูุถ ุงูุงุชุตุงูุงุช ุงููุงุดูุฉ ุจู mTLS         | ุตุงุฏุฑุฉ (Outbound) | ูุทุน ุงูุงุชุตุงู ููุฑุงู ุฅุฐุง ูุดู ุงูุชุญูู         | ุชููุงุฆู ูู TLS/gripe  [[tls.Config ูู]]   |
| ูุญุต ุตูุงุญูุงุช ุงูุนููู ุจุงูุตูุงุญูุงุช         | ูุงุฑุฏุฉ (Inbound)  | ุงูุชุฃูุฏ ููุง ููุณูุญ ููุนููู ุจูุนูู            | [[auth_interceptor.go]] ูู `interceptor` |
|                                       |                  |                                          |                                          |
|  ุฅุบูุงู ุงูุงุชุตุงูุงุช ุงูุฎุงููุฉ ุจุนุฏ 60 ุซุงููุฉ | ูุงุฑุฏุฉ (Inbound)  | ุงูุญูุงูุฉ ูู ุงุณุชูุฒุงู ุงูููุงุฑุฏ               | [[Keepalive]].ServerParameters`          |


##  ุงูุนููู (ููุญุฉ ุงูุชุญูู)

| ุงููููุฉ                 | ุงูููุงุนุฏ ุงููุงุฑุฏุฉ (Inbound)                 | ุงูููุงุนุฏ ุงูุตุงุฏุฑุฉ (Outbound)                                | ุงูุฃุฏูุงุช                 | ุงููุณุชูู    |
| ---------------------- | ----------------------------------------- | --------------------------------------------------------- | ----------------------- | ---------- |
| **ุฅุฏุงุฑุฉ ุงูุฌูุณุงุช**      | ูุจูู ููุท ุชูููุงุช JVM ุนุจุฑ ูููุงุช HTTPS       | ุชุฎุฒูู ุงูุชูููุงุช ูู `HttpOnly` + `Secure` cookies           | `httpOnly cookies`      | ุชุญุช ุงูุชููู |
| **ุงูุชุญูู ูู ุงูุดูุงุฏุงุช** | ุงูุชุญูู ูู ุชูููุน ุดูุงุฏุฉ ุงูุฎุงุฏู ุนูุฏ ูู ุงุชุตุงู | ุฑูุถ ุงูุงุชุตุงู ุฅุฐุง ูุดู ุงูุชุญูู ูู ุงูุดูุงุฏุฉ                     | `tls.Config`            | ุชุญุช ุงูุชููู |
| **ููุงููุฉ ุงูุฃุฎุทุงุก**     | ุนุฏู ุนุฑุถ ุชูุงุตูู ุงูุฎุทุฃ ุงูุฏุงุฎููุฉ ูููุณุชุฎุฏู    | ุชุณุฌูู ุงูุฃุฎุทุงุก ุงููุงููุฉ ูู ูุธุงู ุงููุฑุงูุจุฉ                    | ุชุตููู ูุงุฌูุงุช ุฃุฎุทุงุก ุขููุฉ | ุชุญุช ุงูุชููู |
| **ุชุญุฏูุซ ุขูู**          | ูุจูู ุชุญุฏูุซุงุช ููุท ูู ูุตุงุฏุฑ ูููุนุฉ ุฑูููุงู    | ุงูุชุญูู ูู ุงูุชูููุน ุงูุฑููู ูุจู ุงูุชุซุจูุช                      | `ed25519` ููุชูููุน       | ุชุญุช ุงูุชููู |
| **ุงูุชุญูู ูู CORS**     | ุฑูุถ ุทูุจุงุช CORS ูู ูุทุงูุงุช ุบูุฑ ูุณุฌูุฉ        | ุฅุฑุณุงู `Access-Control-Allow-Origin` ูููุทุงูุงุช ุงููุณููุญุฉ ููุท | `CORS middleware`       | ุชุญุช ุงูุชููู |


## ุชูุถูุญุงุช ุฃุณุงุณูุฉ

1. **ููุงุนุฏ ุงููุงุฑุฏุฉ (Inbound)**:
   - ุงูุดุฑูุท ุงูุชู ูุฌุจ ุฃู ุชุณุชููููุง ุงูุจูุงูุงุช ูุจู ูุนุงูุฌุชูุง
   - ูุซุงู: ุงูุชุญูู ูู ุตุญุฉ ุงูุชููู ูุจู ุชูููุฐ ุงูุทูุจ

2. **ููุงุนุฏ ุงูุตุงุฏุฑุฉ (Outbound)**:
   - ุงูุฅุฌุฑุงุกุงุช ุงููุชุฎุฐุฉ ุนูุฏ ุฅุฑุณุงู ุงูุจูุงูุงุช/ุงูุฑุฏูุฏ
   - ูุซุงู: ุชุดููุฑ ุฌููุน ุงูุจูุงูุงุช ุงููุฑุณูุฉ ุฅูู ุงูุฎุงุฏู ุงููุฑูุฒู

3. **ุฃููููุงุช ุงูุชูููุฐ**:
   - ุงูุจุฏุก ุจุงูููุงู ุฐุงุช ุงููุณุชูู "ุนุงูู" ุฃููุงู
   - ุงุฎุชุจุงุฑ ูู ูุงุนุฏุฉ ุฃูููุฉ ุจุณููุงุฑูููุงุช ูุฌูู ูุงูุนูุฉ


