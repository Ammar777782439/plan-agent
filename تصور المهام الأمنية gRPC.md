
# ุชุตูุฑ ุฃููู ููุธุงู gRPC - ููุฎุต ุชูููุฐู ูู Obsidian

```markdown
# ูุธุงู ุฃูุงู gRPC - ุงูููุงู ูุงููุณุคูููุงุช

## 1. ูุธุฑุฉ ุนุงูุฉ
```mermaid
graph TD
    A[ููุญุฉ ุงูุชุญูู] -->|HTTPS| B[ุจูุงุจุฉ API]
    B -->|gRPC + mTLS| C[ุงูุฎุงุฏู ุงููุฑูุฒู]
    C -->|gRPC + mTLS| D[ุงููููุงุก]
```

## 2. ุงูููุงู ุงูุฃูููุฉ ุญุณุจ ุงููููู

### 2.1 ุจูุงุจุฉ API (ูุณุคูููุชู ุงูุฑุฆูุณูุฉ)
| ุงููููุฉ               | ููุงุนุฏ ุงููุงุฑุฏ (Inbound)                                   | ููุงุนุฏ ุงูุตุงุฏุฑ (Outbound)                                  | ุงูุฃุฏูุงุช                     | ุญุงูุฉ ุงูุชูููุฐ |
|----------------------|----------------------------------------------------------|----------------------------------------------------------|-----------------------------|-------------|
| **ูุตุงุฏูุฉ ุงูุทูุจุงุช**   | ูุจูู ููุท ุทูุจุงุช J/OAuth ุตุงูุญุฉ                             | ุฅุฑุณุงู ุฃุฎุทุงุก ูุตุงุฏูุฉ ุฏูู ุชูุงุตูู ุญุณุงุณุฉ                     | golang-jwt/jwt, oauth2      | โณ ููุฏ ุงูุชุทููุฑ |
| **ุงูุชุญูู ูู ุงูุตูุงุญูุงุช** | ุฑูุถ ุงูุทูุจุงุช ุบูุฑ ุงููุทุงุจูุฉ ูุณูุงุณุงุช RBAC                   | ุฅุฑุณุงู "403 Forbidden" ููุทูุจุงุช ุบูุฑ ุงููุตุฑุญ ุจูุง            | Casbin                      | โ ููุชูู     |
| **Rate Limiting**    | ูุจูู ูุงูุณ 100 ุทูุจ/ุซุงููุฉ ูู ููุณ IP                       | ุฅุฑุณุงู "429 Too Many Requests" ุนูุฏ ุงูุชุฌุงูุฒ              | golang.org/x/time/rate      | โณ ููุฏ ุงูุชุทููุฑ |
| **ุชุตููุฉ ุงููุฏุฎูุงุช**   | ุฑูุถ ุงูุทูุจุงุช ุงููุญุชููุฉ ุนูู SQLi/XSS                       | ุฅุฑุณุงู "400 Bad Request" ููุทูุจุงุช ุงูุฎุทูุฑุฉ                | ุตูุงุบุฉ ุงุณุชุนูุงูุงุช ุขููุฉ        | โ ููุชูู     |
| **ุงูุชุณุฌูู ุงูุฃููู**   | ุชุณุฌูู IP ูุทุฑููุฉ ุงูุทูุจ ูุน ุญุฌุจ ุงูุจูุงูุงุช ุงูุญุณุงุณุฉ           | ุฅุฑุณุงู ุงูุณุฌูุงุช ูุดูุฑุฉ ูููุธุงู ุงููุฑูุฒู                      | Structured logging         | ๐ซ ุบูุฑ ูููุฐ  |
| **ุฅุฏุงุฑุฉ ุงูุฃุฎุทุงุก**    | ููุน ุชุณุฑุจ ูุนูููุงุช ุงููุธุงู                                  | ุฅุฑุณุงู ุฃุฎุทุงุก ุนุงูุฉ ููุท (500 Internal Server Error)        | ูุนุงูุฌุฉ ุฃุฎุทุงุก ูุฎุตุตุฉ         | โ ููุชูู     |

### 2.2 ุฎุงุฏู gRPC (ูุณุคูููุชู ุงูุฃุณุงุณูุฉ)
| ุงููููุฉ                     | ููุงุนุฏ ุงููุงุฑุฏ (Inbound)                                   | ููุงุนุฏ ุงูุตุงุฏุฑ (Outbound)                                  | ุงูุฃุฏูุงุช                                  | ุญุงูุฉ ุงูุชูููุฐ |
|----------------------------|----------------------------------------------------------|----------------------------------------------------------|------------------------------------------|-------------|
| **ุชูููุฐ mTLS**             | ูุจูู ุงุชุตุงูุงุช ุจุดูุงุฏุงุช ุตุงูุญุฉ ููุท                           | ุฑูุถ ุงูุงุชุตุงูุงุช ุจุฏูู ุดูุงุฏุฉ ุนููู ุตุงูุญุฉ                      | grpc/credentials                         | โ ููุชูู     |
| **ุงูุชุญูู ูู ุดูุงุฏุงุช ุงููููุงุก** | ุงูุชุญูู ูู CRL/OCSP ููุดูุงุฏุงุช ุงูููุบุงุฉ                      | ุฅุฑุณุงู ุชุญุฏูุซุงุช ุงูุดูุงุฏุงุช ุบูุฑ ุงูููุซููุฉ                      | x509.Verify()                            | ๐ซ ุบูุฑ ูููุฐ  |
| **Interceptors ุงูุฃูููุฉ**   | ูุญุต ูู ุทูุจ ููุชุญูู ูู ุงูุตูุงุญูุงุช                           | ุฅุฑุณุงู "PermissionDenied" ููุทูุจุงุช ุบูุฑ ุงููุตุฑุญ ุจูุง          | gRPC Interceptors                        | โณ ููุฏ ุงูุชุทููุฑ |
| **ุฅุฏุงุฑุฉ ุงูุงุชุตุงูุงุช**        | ุฅุบูุงู ุงูุงุชุตุงูุงุช ุงูุฎุงููุฉ ุจุนุฏ 60 ุซุงููุฉ                     | ุฅุฑุณุงู Keepalive ูู 20 ุซุงููุฉ                             | context.WithTimeout                      | โ ููุชูู     |
| **ุญูุงูุฉ ุงูุฐุงูุฑุฉ**          | ุนุฏู ุชุฎุฒูู ุงูุจูุงูุงุช ุงูุญุณุงุณุฉ ุทูููุฉ ุงูุฃูุฏ                   | ูุณุญ ุงููุฎุงุฒู ุงููุคูุชุฉ ุจุนุฏ ุงูุงุณุชุฎุฏุงู                       | []byte + zeroing memory                  | ๐ซ ุบูุฑ ูููุฐ  |
| **Heartbeat ุงูุขูู**        | ุฑูุถ ุฅุดุงุฑุงุช Heartbeat ูู ูููุงุก ุบูุฑ ูุตุฑุญ ููู               | ุฅุฑุณุงู Heartbeat ูุดูุฑุฉ ูู 30 ุซุงููุฉ                       | ุฅุดุงุฑุงุช Keepalive                         | โ ููุชูู     |

### 2.3 ุงูุนููู (ููุญุฉ ุงูุชุญูู)
| ุงููููุฉ               | ููุงุนุฏ ุงููุงุฑุฏ (Inbound)                                   | ููุงุนุฏ ุงูุตุงุฏุฑ (Outbound)                                  | ุงูุฃุฏูุงุช                     | ุญุงูุฉ ุงูุชูููุฐ |
|----------------------|----------------------------------------------------------|----------------------------------------------------------|-----------------------------|-------------|
| **ุฅุฏุงุฑุฉ ุงูุฌูุณุงุช**   | ูุจูู ููุท ุชูููุงุช JWT ุนุจุฑ HTTPS                             | ุฅุฑุณุงู ุงูุชูููุงุช ููุท ุนุจุฑ ูููุงุช ูุดูุฑุฉ                       | httpOnly cookies            | โ ููุชูู     |
| **ุงูุชุญูู ูู ุงูุดูุงุฏุงุช** | ุงูุชุญูู ูู ุชูููุน ุดูุงุฏุฉ ุงูุฎุงุฏู                             | ุฑูุถ ุงูุงุชุตุงู ุนูุฏ ูุดู ุงูุชุญูู ูู ุงูุดูุงุฏุฉ                    | tls.Config                  | โณ ููุฏ ุงูุชุทููุฑ |
| **ููุงููุฉ ุงูุฃุฎุทุงุก**  | ุนุฏู ุนุฑุถ ุชูุงุตูู ุงูุฃุฎุทุงุก ุงูุฏุงุฎููุฉ                          | ุชุณุฌูู ุงูุฃุฎุทุงุก ุงููุงููุฉ ููุชุญููู                            | ุชุตููู ูุงุฌูุงุช ุฃุฎุทุงุก          | โ ููุชูู     |
| **ุชุญุฏูุซ ุขูู**       | ูุจูู ุชุญุฏูุซุงุช ูููุนุฉ ุฑูููุงู ููุท                            | ุงูุชุญูู ูู ุงูุชูููุน ูุจู ุงูุชุซุจูุช                             | ุงูุชุญูู ุงูุชูููุน ุงูุฑููู       | ๐ซ ุบูุฑ ูููุฐ  |
| **ุงูุชุญูู ูู CORS**  | ุฑูุถ ุทูุจุงุช CORS ูู ูุทุงูุงุช ุบูุฑ ูุตุฑุญ ุจูุง                    | ุฅุฑุณุงู Access-Control-Allow-Origin ูููุทุงูุงุช ุงููุณููุญุฉ     | ุณูุงุณุงุช CORS ุตุงุฑูุฉ          | โ ููุชูู     |

## 3. ุฎุงุฑุทุฉ ุชูููุฐ ุฒูููุฉ

```mermaid
gantt
    title ุฎุทุฉ ุชูููุฐ ุงูููุงู ุงูุฃูููุฉ
    dateFormat  YYYY-MM-DD
    section ุจูุงุจุฉ API
    Rate Limiting           :active, api1, 2025-07-01, 5d
    ุงูุชุณุฌูู ุงูุฃููู         : api2, after api1, 4d
    section ุฎุงุฏู gRPC
    Interceptors ุงูุฃูููุฉ   :active, grpc1, 2025-07-01, 6d
    ุงูุชุญูู ูู ุงูุดูุงุฏุงุช     : grpc2, after grpc1, 3d
    section ุงูุนููู
    ุงูุชุญูู ูู ุงูุดูุงุฏุงุช     :active, client1, 2025-07-05, 4d
    ุชุญุฏูุซ ุขูู             : client2, after client1, 3d
```

## 4. ุงูุฑูุงุจุท ุงูุฏุงุฎููุฉ
- [[ูุตุงุฏูุฉ ุงูุทูุจุงุช]] - ุชูุงุตูู ุงูุชูููุฐ
- [[ุชูููุฐ mTLS]] - ุฏููู ุงูุชููุฆุฉ
- [[ุฅุฏุงุฑุฉ ุงูุฌูุณุงุช]] - ุฃูุถู ุงูููุงุฑุณุงุช
- [[ูุงุฆูุฉ ุงููุฑุงุฌุนุฉ ุงูุฃูููุฉ]] - ูุจู ุงููุดุฑ

## 5. ุงูุชุญุฏูุงุช ูุงูุญููู ุงูููุชุฑุญุฉ
| ุงูุชุญุฏู                   | ุงูุญู ุงูููุชุฑุญ                          | ุงูุฃููููุฉ |
|--------------------------|---------------------------------------|----------|
| ุฃุฏุงุก mTLS ุนูู ูุทุงู ูุงุณุน  | ุงุณุชุฎุฏุงู ุดูุงุฏุงุช ูุตูุฑุฉ ุงูุนูุฑ            | ุนุงูู     |
| ุฅุฏุงุฑุฉ ููุงุชูุญ ุงูุชุดููุฑ     | ุชูุงูู ูุน HashiCorp Vault              | ูุชูุณุท    |
| ูุญุต ุญูููุงุช gRPC          | ุงุณุชุฎุฏุงู NGFW ูุน ุฏุนู ูู ุชุดููุฑ gRPC     | ุนุงูู     |

## 6. ูุคุดุฑุงุช ุงูุฃุฏุงุก
| ุงููุคุดุฑ                     | ุงููุฏู     | ุงููุถุน ุงูุญุงูู |
|----------------------------|-----------|--------------|
| ุชุบุทูุฉ ุงูุฃูุงู               | 95%       | 70%          |
| ุงุชุตุงูุงุช ูุดูุฑุฉ              | 100%      | 100%         |
| ุฒูู ูุนุงูุฌุฉ ุงูุทูุจุงุช         | < 100ms   | 85ms         |

## 7. ุงููุฑุงุฌุน
- [ุฃูุถู ููุงุฑุณุงุช ุฃูุงู gRPC](obsidian://open?file=ุฃูุงู%20gRPC)
- [ุฏููู ุฃูุงู Go](obsidian://open?file=ุฃูุงู%20Go)
- [ุณูุงุณุงุช RBAC](obsidian://open?file=RBAC%20Policies)